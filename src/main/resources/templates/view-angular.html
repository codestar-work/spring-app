<#include "header.html">
	
	<script src="/js/angular.min.js"></script>
	<div ng-app="myApp" ng-controller="myCtrl" class="container">
		<div class="row">
			<div class="col-xs-12 col-sm-6 col-md-4 col-lg-3" 
				ng-repeat="p in posts">
				<a href="/view/{{p.id}}">
					<div class="panel panel-info highlight">
						<div class="panel-heading">
							<h3 class="panel-title">
								{{p.topic}}
							</h3>
						</div>
						<div class="panel-body">
							<img class="highlight"
								src="/upload/{{p.file}}" 
								ng-if="p.file != 'unknown.jpg'"/>
							<p>
								{{p.detail}}
							</p>
						</div>
					</div>
				</a>
			</div>
		</div>
	</div>
	
	<script>
		angular.module('myApp', []).controller('myCtrl', 
			function ($scope, $http) {
				$http.get("/get-post-list")
				.success(function(response) {
					$scope.posts = response;
				});
			}	
		);
	</script>
<#include "footer.html">
